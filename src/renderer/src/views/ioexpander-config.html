<template>
    <import from="../components/app-layout"></import>
    <import from="../components/nav-bar"></import>

    <app-layout title="EX-IOExpander Configuration">
        <div class="max-w-2xl mx-auto space-y-6">
            <!-- I2C Address -->
            <div class="border rounded-lg p-4 space-y-3">
                <h3 class="font-semibold text-gray-800">I2C Address</h3>
                <div class="flex items-center gap-3">
                    <button click.trigger="decrementAddress()" class="e-btn e-small e-outline">-</button>
                    <input type="text" value.bind="i2cAddressHex" readonly
                        class="w-20 text-center px-3 py-2 border rounded font-mono" />
                    <button click.trigger="incrementAddress()" class="e-btn e-small e-outline">+</button>
                    <span class="text-sm text-gray-500">(Range: 0x08 â€“ 0x77)</span>
                </div>
            </div>

            <!-- Options -->
            <div class="border rounded-lg p-4 space-y-3">
                <h3 class="font-semibold text-gray-800">Options</h3>
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" checked.bind="disableI2cPullups" class="w-4 h-4 text-blue-600 rounded" />
                    <span>Disable I2C pull-up resistors</span>
                </label>
            </div>

            <!-- Diagnostics -->
            <div class="border rounded-lg p-4 space-y-3">
                <h3 class="font-semibold text-gray-800">Diagnostic Tests</h3>
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" checked.bind="diagAnalogue" class="w-4 h-4 text-blue-600 rounded" />
                    <span>Analogue input test</span>
                </label>
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" checked.bind="diagInput" class="w-4 h-4 text-blue-600 rounded" />
                    <span>Digital input test</span>
                </label>
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" checked.bind="diagOutput" class="w-4 h-4 text-blue-600 rounded" />
                    <span>Digital output test</span>
                </label>
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" checked.bind="diagPullup" class="w-4 h-4 text-blue-600 rounded" />
                    <span>Pull-up test</span>
                </label>
            </div>

            <div if.bind="error" class="bg-red-50 border border-red-200 rounded-lg p-4">
                <p class="text-red-700">${error}</p>
            </div>
        </div>

        <nav-bar au-slot="footer" back-action.bind="() => goBack()" next-action.bind="() => goNext()">
        </nav-bar>
    </app-layout>
</template>